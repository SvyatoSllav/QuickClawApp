# Публикация SimpleClaw в Google Play — Пошаговое руководство

## 1. Подготовка аккаунта разработчика

### 1.1 Регистрация в Google Play Console
1. Перейди на https://play.google.com/console/signup
2. Войди в свой Google-аккаунт (или создай новый)
3. Оплати **единоразовый сбор $25**
4. Заполни данные разработчика:
   - Имя разработчика: `Тарасов Святослав` (или название компании)
   - Email для связи: `tarasov.slavas2@gmail.com`
   - Номер телефона
5. Подтверди личность (Google может запросить фото документа)

> Активация аккаунта может занять **до 48 часов**.

---

## 2. Подготовка файлов приложения

### 2.1 Keystore (ключ подписи)

Keystore уже сгенерирован и лежит в:
```
android/app/simpleclaw-release.keystore
```

**ВАЖНО:** Этот файл — единственный способ обновлять приложение в Google Play.
- **Сохрани его в надёжном месте** (облако, флешка, etc.)
- Если потеряешь keystore, ты НЕ сможешь выпускать обновления
- Параметры ключа:
  - Alias: `simpleclaw`
  - Store password: `simpleclaw2025`
  - Key password: `simpleclaw2025`

> Рекомендуется сменить пароль на более сложный перед публикацией.

### 2.2 Сборка AAB (Android App Bundle)

Google Play требует формат **AAB**, не APK. Для сборки:

```bash
export ANDROID_HOME=/home/svyat/Android/Sdk
cd /home/svyat/dev/SimpleClaw/simpleclaw-rn/android
./gradlew bundleRelease
```

Готовый AAB будет в:
```
android/app/build/outputs/bundle/release/app-release.aab
```

### 2.3 Сборка APK (для тестирования)

```bash
cd /home/svyat/dev/SimpleClaw/simpleclaw-rn/android
./gradlew assembleRelease
```

APK будет в:
```
android/app/build/outputs/apk/release/app-release.apk
```

Установка APK на телефон для теста:
```bash
adb install app/build/outputs/apk/release/app-release.apk
```

---

## 3. Подготовка графических материалов

Google Play требует следующие изображения:

### Обязательные:
| Материал | Размер | Формат |
|---|---|---|
| Иконка приложения | 512×512 px | PNG (32-bit, без альфа) |
| Скриншоты (мин. 2 шт.) | мин. 320px, макс. 3840px | PNG или JPEG |
| Feature Graphic (баннер) | 1024×500 px | PNG или JPEG |

### Скриншоты:
- Сделай **минимум 2 скриншота** на телефоне (или эмуляторе)
- Рекомендуется **4-8 скриншотов** разных экранов:
  1. Главный экран (выбор модели)
  2. Процесс подключения
  3. Активная подписка
  4. Telegram-бот в работе

### Как сделать скриншоты на эмуляторе:
```bash
# Запустить эмулятор
npx expo run:android

# Скриншот через adb
adb exec-out screencap -p > screenshot1.png
```

---

## 4. Создание приложения в Google Play Console

### 4.1 Создать приложение
1. Войди в https://play.google.com/console
2. Нажми **«Создать приложение»**
3. Заполни:
   - Название: `SimpleClaw — AI-ассистент в Telegram`
   - Язык по умолчанию: `Русский`
   - Приложение или игра: **Приложение**
   - Бесплатное или платное: **Бесплатное** (монетизация через подписку внутри)
4. Прими условия и нажми **«Создать»**

### 4.2 Настройка раздела «Основная информация о приложении»

Перейди в **Основная информация о приложении → Основная страница приложения**:

- **Краткое описание** (до 80 символов):
  ```
  Разверните AI-ассистента OpenClaw в Telegram за 1 минуту
  ```

- **Полное описание** (до 4000 символов):
  ```
  SimpleClaw — самый простой способ запустить собственного AI-ассистента
  в Telegram. Без серверов, без SSH, без командной строки.

  Выберите модель (Claude, GPT или Gemini), подключите Telegram —
  и ваш персональный AI-ассистент готов к работе.

  Что умеет OpenClaw:
  • Чтение и составление писем
  • Перевод сообщений
  • Планирование и напоминания
  • Анализ данных и расчёты
  • Поиск информации
  • И тысячи других сценариев

  Подписка включает $15 API-кредитов ежемесячно.
  ```

- **Иконка**: загрузи `assets/icon.png` (512×512)
- **Feature Graphic**: создай баннер 1024×500
- **Скриншоты**: загрузи подготовленные скриншоты

### 4.3 Категория и контактные данные

В разделе **Основная информация о приложении → Категория**:
- Категория: **Инструменты** или **Продуктивность**
- Email разработчика: `tarasov.slavas2@gmail.com`

---

## 5. Заполнение обязательных разделов (чек-лист)

Google Play не опубликует приложение, пока не заполнены все разделы.
Перейди в **Правила и программы** и заполни каждый пункт:

### 5.1 Правила приложения
- **Политика конфиденциальности**: укажи URL
  - Можно использовать: `https://install-openclow.ru/privacy.html`
- **Реклама**: Приложение НЕ содержит рекламу
- **Доступ к приложению**: Все функции доступны без специального доступа
  (или укажи тестовый аккаунт, если нужна авторизация для ревью)

### 5.2 Контент приложения
- **Целевая аудитория**: 18+ (AI-контент)
- **Рейтинг контента**: Заполни опросник IARC
  - Пользовательский контент: Да (AI генерирует текст)
  - Насилие: Нет
  - Покупки в приложении: Да (подписка)

### 5.3 Безопасность данных
Заполни раздел «Безопасность данных»:

| Тип данных | Собирается | Передаётся |
|---|---|---|
| Email | Да | Нет |
| Имя | Да | Нет |
| Платёжные данные | Нет | Нет |
| ID устройства | Нет | Нет |

- Данные шифруются при передаче: **Да** (HTTPS)
- Пользователь может запросить удаление данных: **Да**

---

## 6. Настройка подписи приложения (App Signing)

### 6.1 Google Play App Signing

Google Play предложит использовать **Play App Signing**:

1. Перейди в **Выпуск → Настройка → Подпись приложения**
2. Google предложит два варианта:
   - **Вариант А (рекомендуется)**: Google управляет ключом подписи.
     Google сгенерирует свой ключ и будет переподписывать AAB.
     Твой upload key (simpleclaw-release.keystore) используется только для загрузки.
   - **Вариант Б**: Загрузить свой ключ подписи.
     Экспортируй и загрузи свой keystore.

3. Рекомендуется **Вариант А** — так Google сможет оптимизировать APK
   и ты не потеряешь доступ, если потеряешь keystore.

---

## 7. Загрузка AAB и публикация

### 7.1 Создать релиз

1. Перейди в **Выпуск → Тестирование → Внутреннее тестирование**
   (рекомендуется начать с внутреннего теста)
2. Нажми **«Создать новый выпуск»**
3. Загрузи файл `app-release.aab`
4. Заполни:
   - Название выпуска: `1.0.0`
   - Примечания к выпуску:
     ```
     Первый выпуск SimpleClaw.
     - Авторизация через Google
     - Выбор AI-модели (Claude, GPT, Gemini)
     - Подключение Telegram-бота
     - Управление подпиской
     ```
5. Нажми **«Проверить выпуск»** → **«Начать развёртывание»**

### 7.2 Тестирование

1. В разделе **Внутреннее тестирование → Тестировщики**:
   - Создай список рассылки
   - Добавь свой email и email тестировщиков
2. Скопируй ссылку для тестирования и отправь тестировщикам
3. После успешного тестирования — переходи к production

### 7.3 Публикация в Production

1. Перейди в **Выпуск → Production**
2. Нажми **«Создать новый выпуск»**
3. Загрузи тот же AAB (или новую версию)
4. Нажми **«Проверить выпуск»** → **«Начать развёртывание в production»**

> **Ревью Google** обычно занимает **от нескольких часов до 7 дней**.
> Первый раз обычно дольше.

---

## 8. После публикации

### 8.1 Обновление приложения

Для каждого обновления:
1. Увеличь `versionCode` в `android/app/build.gradle`:
   ```gradle
   versionCode 2  // было 1
   versionName "1.1.0"  // было "1.0.0"
   ```
2. Также обнови версию в `app.json`:
   ```json
   "version": "1.1.0"
   ```
3. Пересобери:
   ```bash
   npx expo prebuild --clean
   cd android && ./gradlew bundleRelease
   ```
4. Загрузи новый AAB в Google Play Console

### 8.2 Мониторинг

- **Статистика**: Google Play Console → Статистика
- **Отзывы**: Google Play Console → Оценки и отзывы
- **Сбои**: Google Play Console → Качество → Android Vitals

---

## 9. Краткий чек-лист перед публикацией

- [ ] Аккаунт разработчика создан и оплачен ($25)
- [ ] Keystore сохранён в надёжном месте
- [ ] AAB собран (`./gradlew bundleRelease`)
- [ ] Иконка 512×512 подготовлена
- [ ] Feature Graphic 1024×500 подготовлен
- [ ] Минимум 2 скриншота загружены
- [ ] Краткое и полное описание заполнены
- [ ] Политика конфиденциальности указана
- [ ] Рейтинг контента заполнен (IARC)
- [ ] Безопасность данных заполнена
- [ ] Категория и контакты указаны
- [ ] Внутреннее тестирование пройдено
- [ ] Production-релиз создан

---

## 10. Полезные команды

```bash
# Установить ANDROID_HOME (добавь в ~/.bashrc)
export ANDROID_HOME=/home/svyat/Android/Sdk
export PATH=$PATH:$ANDROID_HOME/platform-tools

# Сборка APK (для тестирования)
cd /home/svyat/dev/SimpleClaw/simpleclaw-rn/android
./gradlew assembleRelease

# Сборка AAB (для Google Play)
./gradlew bundleRelease

# Установка APK на подключённый телефон
adb install app/build/outputs/apk/release/app-release.apk

# Просмотр SHA-1 ключа (нужен для Google Sign-In)
keytool -list -v -keystore app/simpleclaw-release.keystore -alias simpleclaw -storepass simpleclaw2025

# Пересборка нативного кода после изменений в app.json
npx expo prebuild --clean
```

---

## 11. Настройка Google Sign-In для production

После публикации нужно добавить SHA-1 отпечаток release-ключа
в Google Cloud Console:

1. Получи SHA-1:
   ```bash
   keytool -list -v -keystore android/app/simpleclaw-release.keystore \
     -alias simpleclaw -storepass simpleclaw2025 | grep SHA1
   ```

2. Перейди в https://console.cloud.google.com/apis/credentials

3. Найди OAuth клиент **типа Android** (или создай новый):
   - Package name: `com.simpleclaw.app`
   - SHA-1: вставь полученный отпечаток

4. Если используешь Play App Signing, также добавь SHA-1 от Google:
   - Google Play Console → Настройка → Подпись приложения
   - Скопируй SHA-1 из раздела «Сертификат ключа подписи приложения»
   - Добавь его в Google Cloud Console

---

*Руководство создано для проекта SimpleClaw, февраль 2026*
